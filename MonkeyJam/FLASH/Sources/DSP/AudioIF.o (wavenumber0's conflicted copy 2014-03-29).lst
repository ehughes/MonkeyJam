   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"AudioIF.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.global	__aeabi_ui2f
  19              		.global	__aeabi_fdiv
  20              		.global	__aeabi_fmul
  21              		.global	__aeabi_f2uiz
  22              		.global	__aeabi_fadd
  23              		.section	.text.InitAudioIO,"ax",%progbits
  24              		.align	2
  25              		.global	InitAudioIO
  26              		.thumb
  27              		.thumb_func
  29              	InitAudioIO:
  30              	.LFB0:
  31              		.file 1 "../Sources/DSP/AudioIF.c"
   1:../Sources/DSP/AudioIF.c **** /*$6*/
   2:../Sources/DSP/AudioIF.c **** 
   3:../Sources/DSP/AudioIF.c **** #include "stdint.h"
   4:../Sources/DSP/AudioIF.c **** #include "derivative.h"
   5:../Sources/DSP/AudioIF.c **** #include "../drivers/sai/sai.h"
   6:../Sources/DSP/AudioIF.c **** #include "../cpu/arm_cm4.h"
   7:../Sources/DSP/AudioIF.c **** 
   8:../Sources/DSP/AudioIF.c **** //#include "Audio_IF.h"
   9:../Sources/DSP/AudioIF.c **** 
  10:../Sources/DSP/AudioIF.c **** uint32_t    AudioMasterClock;
  11:../Sources/DSP/AudioIF.c **** uint32_t    AudioSampleRate;
  12:../Sources/DSP/AudioIF.c **** 
  13:../Sources/DSP/AudioIF.c **** uint32_t InitAudioIO( uint32_t    BusClockIn,
  14:../Sources/DSP/AudioIF.c **** 					  uint32_t    SampleRate,
  15:../Sources/DSP/AudioIF.c **** 					  uint32_t    MCLK_Ratio)
  16:../Sources/DSP/AudioIF.c **** 
  17:../Sources/DSP/AudioIF.c **** {
  32              		.loc 1 17 0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              	.LVL0:
  18:../Sources/DSP/AudioIF.c ****     float       TargetDivider;
  19:../Sources/DSP/AudioIF.c ****     uint32_t    Frac;
  20:../Sources/DSP/AudioIF.c ****     uint32_t    Div;
  21:../Sources/DSP/AudioIF.c **** 
  22:../Sources/DSP/AudioIF.c ****     SIM_SCGC6 |= SIM_SCGC6_I2S_MASK;    //Enable CLock to I2S Module
  37              		.loc 1 22 0
  38 0000 48F22003 		movw	r3, #32800
  17:../Sources/DSP/AudioIF.c **** {
  39              		.loc 1 17 0
  40 0004 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, sl, lr}
  41              	.LCFI0:
  42              		.cfi_def_cfa_offset 32
  43              		.cfi_offset 4, -32
  44              		.cfi_offset 5, -28
  45              		.cfi_offset 6, -24
  46              		.cfi_offset 7, -20
  47              		.cfi_offset 8, -16
  48              		.cfi_offset 9, -12
  49              		.cfi_offset 10, -8
  50              		.cfi_offset 14, -4
  51              		.loc 1 22 0
  52 0008 C4F20403 		movt	r3, 16388
  17:../Sources/DSP/AudioIF.c **** {
  53              		.loc 1 17 0
  54 000c 0446     		mov	r4, r0
  55              		.loc 1 22 0
  56 000e D869     		ldr	r0, [r3, #28]
  57              	.LVL1:
  58 0010 40F40045 		orr	r5, r0, #32768
  17:../Sources/DSP/AudioIF.c **** {
  59              		.loc 1 17 0
  60 0014 82B0     		sub	sp, sp, #8
  61              	.LCFI1:
  62              		.cfi_def_cfa_offset 40
  63              		.loc 1 22 0
  64 0016 DD61     		str	r5, [r3, #28]
  23:../Sources/DSP/AudioIF.c **** 
  24:../Sources/DSP/AudioIF.c ****     //blow away all the registers;
  25:../Sources/DSP/AudioIF.c **** 
  26:../Sources/DSP/AudioIF.c ****     sai_clear_reg(0);
  65              		.loc 1 26 0
  66 0018 0020     		movs	r0, #0
  17:../Sources/DSP/AudioIF.c **** {
  67              		.loc 1 17 0
  68 001a 9046     		mov	r8, r2
  69 001c 0E46     		mov	r6, r1
  70              		.loc 1 26 0
  71 001e FFF7FEFF 		bl	sai_clear_reg
  72              	.LVL2:
  27:../Sources/DSP/AudioIF.c **** 
  28:../Sources/DSP/AudioIF.c ****     //Setup the Master Clock
  29:../Sources/DSP/AudioIF.c **** 
  30:../Sources/DSP/AudioIF.c ****     AudioMasterClock = SampleRate *     //input Sample Rate
  31:../Sources/DSP/AudioIF.c ****     					MCLK_Ratio; // Overclock Ration
  32:../Sources/DSP/AudioIF.c ****     TargetDivider = (float)AudioMasterClock / (float)BusClockIn;
  73              		.loc 1 32 0
  74 0022 2046     		mov	r0, r4
  75 0024 FFF7FEFF 		bl	__aeabi_ui2f
  76              	.LVL3:
  77 0028 8146     		mov	r9, r0
  78 002a 06FB08F0 		mul	r0, r6, r8
  79 002e FFF7FEFF 		bl	__aeabi_ui2f
  80              	.LVL4:
  81 0032 4946     		mov	r1, r9
  82 0034 FFF7FEFF 		bl	__aeabi_fdiv
  83              	.LVL5:
  33:../Sources/DSP/AudioIF.c **** 
  34:../Sources/DSP/AudioIF.c ****     //Iterate through all possibilities of the DIv/Frac to narrow in on a good diver
  35:../Sources/DSP/AudioIF.c **** 
  36:../Sources/DSP/AudioIF.c ****     Div = 8192; //1st operation is a halving which will put us at the maximum divider value
  84              		.loc 1 36 0
  85 0038 4FF40054 		mov	r4, #8192
  86              	.LVL6:
  32:../Sources/DSP/AudioIF.c ****     TargetDivider = (float)AudioMasterClock / (float)BusClockIn;
  87              		.loc 1 32 0
  88 003c 0746     		mov	r7, r0
  89              	.LVL7:
  90              	.L2:
  37:../Sources/DSP/AudioIF.c ****     do
  38:../Sources/DSP/AudioIF.c ****     {
  39:../Sources/DSP/AudioIF.c ****         Div >>= 1;
  91              		.loc 1 39 0
  92 003e 6408     		lsrs	r4, r4, #1
  93              	.LVL8:
  40:../Sources/DSP/AudioIF.c ****         Frac = (uint32_t) ((float)Div * TargetDivider);
  94              		.loc 1 40 0
  95 0040 2046     		mov	r0, r4
  96 0042 FFF7FEFF 		bl	__aeabi_ui2f
  97              	.LVL9:
  98 0046 3946     		mov	r1, r7
  99 0048 0646     		mov	r6, r0
 100 004a FFF7FEFF 		bl	__aeabi_fmul
 101              	.LVL10:
 102 004e FFF7FEFF 		bl	__aeabi_f2uiz
 103              	.LVL11:
  41:../Sources/DSP/AudioIF.c ****     } while(Frac > 256);
 104              		.loc 1 41 0
 105 0052 B0F5807F 		cmp	r0, #256
  40:../Sources/DSP/AudioIF.c ****         Frac = (uint32_t) ((float)Div * TargetDivider);
 106              		.loc 1 40 0
 107 0056 0546     		mov	r5, r0
 108              	.LVL12:
 109              		.loc 1 41 0
 110 0058 F1D8     		bhi	.L2
  42:../Sources/DSP/AudioIF.c **** 
  43:../Sources/DSP/AudioIF.c ****     //Re compute based upon actual Values
  44:../Sources/DSP/AudioIF.c **** 
  45:../Sources/DSP/AudioIF.c ****     AudioMasterClock = (uint32_t) ((float)BusClockIn * (((float)Frac + 1) / ((float)Div + 1)));
 111              		.loc 1 45 0
 112 005a FFF7FEFF 		bl	__aeabi_ui2f
 113              	.LVL13:
 114 005e 4FF07E51 		mov	r1, #1065353216
 115 0062 FFF7FEFF 		bl	__aeabi_fadd
 116              	.LVL14:
 117 0066 4FF07E51 		mov	r1, #1065353216
 118 006a 8246     		mov	sl, r0
 119 006c 3046     		mov	r0, r6
 120 006e FFF7FEFF 		bl	__aeabi_fadd
 121              	.LVL15:
 122 0072 0146     		mov	r1, r0
 123 0074 5046     		mov	r0, sl
 124 0076 FFF7FEFF 		bl	__aeabi_fdiv
 125              	.LVL16:
 126 007a 0146     		mov	r1, r0
 127 007c 4846     		mov	r0, r9
 128 007e FFF7FEFF 		bl	__aeabi_fmul
 129              	.LVL17:
 130 0082 FFF7FEFF 		bl	__aeabi_f2uiz
 131              	.LVL18:
 132 0086 6E4F     		ldr	r7, .L5
 133              	.LVL19:
 134 0088 3860     		str	r0, [r7, #0]
  46:../Sources/DSP/AudioIF.c ****     SampleRate = (uint32_t) ((float)AudioMasterClock / (float)MCLK_Ratio);
 135              		.loc 1 46 0
 136 008a FFF7FEFF 		bl	__aeabi_ui2f
 137              	.LVL20:
 138 008e 0646     		mov	r6, r0
 139 0090 4046     		mov	r0, r8
 140 0092 FFF7FEFF 		bl	__aeabi_ui2f
 141              	.LVL21:
 142 0096 0146     		mov	r1, r0
 143 0098 3046     		mov	r0, r6
 144 009a FFF7FEFF 		bl	__aeabi_fdiv
 145              	.LVL22:
 146 009e FFF7FEFF 		bl	__aeabi_f2uiz
 147              	.LVL23:
  47:../Sources/DSP/AudioIF.c ****     
  48:../Sources/DSP/AudioIF.c ****     sai_mclk_config(0, 0, 1, Frac - 1, Div - 1);
 148              		.loc 1 48 0
 149 00a2 013C     		subs	r4, r4, #1
 150              	.LVL24:
  46:../Sources/DSP/AudioIF.c ****     SampleRate = (uint32_t) ((float)AudioMasterClock / (float)MCLK_Ratio);
 151              		.loc 1 46 0
 152 00a4 0646     		mov	r6, r0
 153              	.LVL25:
 154              		.loc 1 48 0
 155 00a6 6B1E     		subs	r3, r5, #1
 156 00a8 0020     		movs	r0, #0
 157              	.LVL26:
 158 00aa 0146     		mov	r1, r0
 159 00ac 0122     		movs	r2, #1
 160 00ae 0094     		str	r4, [sp, #0]
 161 00b0 DBB2     		uxtb	r3, r3
 162 00b2 FFF7FEFF 		bl	sai_mclk_config
 163              	.LVL27:
  49:../Sources/DSP/AudioIF.c **** 
  50:../Sources/DSP/AudioIF.c ****     //Set of the BitClock.  There always needs to be 64 bclocks per sample
  51:../Sources/DSP/AudioIF.c **** 
  52:../Sources/DSP/AudioIF.c ****     Div = AudioMasterClock / (SampleRate * 64);
 164              		.loc 1 52 0
 165 00b6 3968     		ldr	r1, [r7, #0]
 166 00b8 B201     		lsls	r2, r6, #6
 167 00ba B1FBF2F0 		udiv	r0, r1, r2
 168              	.LVL28:
  53:../Sources/DSP/AudioIF.c ****    
  54:../Sources/DSP/AudioIF.c ****     sai_bclk_config
  55:../Sources/DSP/AudioIF.c ****     (
  56:../Sources/DSP/AudioIF.c ****         0,      //Port 0
  57:../Sources/DSP/AudioIF.c ****         1,      //Tx
  58:../Sources/DSP/AudioIF.c ****         1,      //Set as MAster Clock
  59:../Sources/DSP/AudioIF.c ****         1,      //Active High Polarity
  60:../Sources/DSP/AudioIF.c ****         1,      //Direction is out
  61:../Sources/DSP/AudioIF.c ****         Div / 2 - 1
 169              		.loc 1 61 0
 170 00be 4508     		lsrs	r5, r0, #1
 171              	.LVL29:
  55:../Sources/DSP/AudioIF.c ****     (
 172              		.loc 1 55 0
 173 00c0 6B1E     		subs	r3, r5, #1
 174 00c2 DCB2     		uxtb	r4, r3
 175 00c4 0125     		movs	r5, #1
 176 00c6 0020     		movs	r0, #0
 177              	.LVL30:
 178 00c8 2946     		mov	r1, r5
 179 00ca 2A46     		mov	r2, r5
 180 00cc 2B46     		mov	r3, r5
 181 00ce 0194     		str	r4, [sp, #4]
 182 00d0 0095     		str	r5, [sp, #0]
 183 00d2 FFF7FEFF 		bl	sai_bclk_config
 184              	.LVL31:
  62:../Sources/DSP/AudioIF.c ****     );          //Set the Div value for the BIt CLock
  63:../Sources/DSP/AudioIF.c ****     
  64:../Sources/DSP/AudioIF.c ****     sai_bclk_config
  65:../Sources/DSP/AudioIF.c ****     (
 185              		.loc 1 65 0
 186 00d6 0020     		movs	r0, #0
 187 00d8 2A46     		mov	r2, r5
 188 00da 2B46     		mov	r3, r5
 189 00dc 0146     		mov	r1, r0
 190 00de 0194     		str	r4, [sp, #4]
 191 00e0 0095     		str	r5, [sp, #0]
 192 00e2 FFF7FEFF 		bl	sai_bclk_config
 193              	.LVL32:
  66:../Sources/DSP/AudioIF.c ****         0,      //Port 0
  67:../Sources/DSP/AudioIF.c ****         0,      //Rx
  68:../Sources/DSP/AudioIF.c ****         1,      //Set as MAster Clock
  69:../Sources/DSP/AudioIF.c ****         1,      //Active High Polarity
  70:../Sources/DSP/AudioIF.c ****         1,      //Direction is out
  71:../Sources/DSP/AudioIF.c ****         Div / 2 - 1
  72:../Sources/DSP/AudioIF.c ****     );          //Set the Div value for the BIt CLock
  73:../Sources/DSP/AudioIF.c ****     
  74:../Sources/DSP/AudioIF.c ****     sai_bclk_en(0, //Port
 194              		.loc 1 74 0
 195 00e6 0020     		movs	r0, #0
 196 00e8 2946     		mov	r1, r5
 197 00ea FFF7FEFF 		bl	sai_bclk_en
 198              	.LVL33:
  75:../Sources/DSP/AudioIF.c ****     1 //Tx
  76:../Sources/DSP/AudioIF.c ****     );
  77:../Sources/DSP/AudioIF.c ****    
  78:../Sources/DSP/AudioIF.c ****     sai_bclk_en(0, //Port
 199              		.loc 1 78 0
 200 00ee 0020     		movs	r0, #0
  79:../Sources/DSP/AudioIF.c **** 				0 //Rx
  80:../Sources/DSP/AudioIF.c **** 				);
  81:../Sources/DSP/AudioIF.c **** 			   
  82:../Sources/DSP/AudioIF.c ****     sai_mode_config(0, //Port 0
 201              		.loc 1 82 0
 202 00f0 0446     		mov	r4, r0
  78:../Sources/DSP/AudioIF.c ****     sai_bclk_en(0, //Port
 203              		.loc 1 78 0
 204 00f2 0146     		mov	r1, r0
 205 00f4 FFF7FEFF 		bl	sai_bclk_en
 206              	.LVL34:
 207              		.loc 1 82 0
 208 00f8 2046     		mov	r0, r4
 209 00fa 2946     		mov	r1, r5
 210 00fc 2246     		mov	r2, r4
 211 00fe 2346     		mov	r3, r4
 212 0100 0094     		str	r4, [sp, #0]
 213 0102 FFF7FEFF 		bl	sai_mode_config
 214              	.LVL35:
  83:../Sources/DSP/AudioIF.c **** 					1, //Tx
  84:../Sources/DSP/AudioIF.c **** 					0, 
  85:../Sources/DSP/AudioIF.c **** 					0, //Not Bit Swap
  86:../Sources/DSP/AudioIF.c **** 					0);  //No BCI
  87:../Sources/DSP/AudioIF.c ****    
  88:../Sources/DSP/AudioIF.c ****     sai_mode_config(0, //Port 0
 215              		.loc 1 88 0
 216 0106 2346     		mov	r3, r4
 217 0108 2046     		mov	r0, r4
 218 010a 2146     		mov	r1, r4
 219 010c 2A46     		mov	r2, r5
 220 010e 0094     		str	r4, [sp, #0]
 221 0110 FFF7FEFF 		bl	sai_mode_config
 222              	.LVL36:
  89:../Sources/DSP/AudioIF.c **** 					0, //Rx
  90:../Sources/DSP/AudioIF.c **** 					1, 
  91:../Sources/DSP/AudioIF.c **** 					0, //Not Bit Swap
  92:../Sources/DSP/AudioIF.c **** 					0);  //No BCI
  93:../Sources/DSP/AudioIF.c ****    
  94:../Sources/DSP/AudioIF.c ****     sai_word_flg_config(0, //port
 223              		.loc 1 94 0
 224 0114 2046     		mov	r0, r4
 225 0116 2946     		mov	r1, r5
 226 0118 2246     		mov	r2, r4
 227 011a FFF7FEFF 		bl	sai_word_flg_config
 228              	.LVL37:
  95:../Sources/DSP/AudioIF.c **** 						1, //tx
  96:../Sources/DSP/AudioIF.c **** 						0 //first word starts word flag
  97:../Sources/DSP/AudioIF.c **** 						);
  98:../Sources/DSP/AudioIF.c **** 					  
  99:../Sources/DSP/AudioIF.c ****     sai_word_flg_config(0, //port
 229              		.loc 1 99 0
 230 011e 2046     		mov	r0, r4
 231 0120 2146     		mov	r1, r4
 232 0122 2246     		mov	r2, r4
 233 0124 FFF7FEFF 		bl	sai_word_flg_config
 234              	.LVL38:
 100:../Sources/DSP/AudioIF.c **** 						0, //rx
 101:../Sources/DSP/AudioIF.c **** 						0 //first word starts word flag
 102:../Sources/DSP/AudioIF.c **** 						);
 103:../Sources/DSP/AudioIF.c ****   
 104:../Sources/DSP/AudioIF.c ****     sai_frame_config(
 235              		.loc 1 104 0
 236 0128 2046     		mov	r0, r4
 237 012a 2946     		mov	r1, r5
 238 012c 2A46     		mov	r2, r5
 239 012e 3F23     		movs	r3, #63
 240 0130 0095     		str	r5, [sp, #0]
 241 0132 FFF7FEFF 		bl	sai_frame_config
 242              	.LVL39:
 105:../Sources/DSP/AudioIF.c **** 						0,                  //Port
 106:../Sources/DSP/AudioIF.c **** 						1,                  //tx
 107:../Sources/DSP/AudioIF.c **** 						1,                  //Frame is 2 words - write one less than actual number
 108:../Sources/DSP/AudioIF.c **** 						63,                 //one less than the number of BClks per frame.  32 bclocks for each word
 109:../Sources/DSP/AudioIF.c **** 						1                   //MSB First
 110:../Sources/DSP/AudioIF.c **** 					);
 111:../Sources/DSP/AudioIF.c ****   
 112:../Sources/DSP/AudioIF.c ****     sai_frame_config
 113:../Sources/DSP/AudioIF.c ****     (
 243              		.loc 1 113 0
 244 0136 3F23     		movs	r3, #63
 245 0138 2046     		mov	r0, r4
 246 013a 2146     		mov	r1, r4
 247 013c 2A46     		mov	r2, r5
 248 013e 0095     		str	r5, [sp, #0]
 249 0140 FFF7FEFF 		bl	sai_frame_config
 250              	.LVL40:
 114:../Sources/DSP/AudioIF.c ****         0,                  //Port
 115:../Sources/DSP/AudioIF.c ****         0,                  //Rx
 116:../Sources/DSP/AudioIF.c ****         1,                  //Frame is 2 words
 117:../Sources/DSP/AudioIF.c ****         63,                 //one less than the number of BClks per frame.  32 bclocks for each wor
 118:../Sources/DSP/AudioIF.c ****         1                   //MSB First
 119:../Sources/DSP/AudioIF.c ****     );
 120:../Sources/DSP/AudioIF.c ****   
 121:../Sources/DSP/AudioIF.c ****     sai_frameclk_config
 122:../Sources/DSP/AudioIF.c ****     (
 251              		.loc 1 122 0
 252 0144 2046     		mov	r0, r4
 253 0146 2946     		mov	r1, r5
 254 0148 2A46     		mov	r2, r5
 255 014a 2346     		mov	r3, r4
 256 014c 0095     		str	r5, [sp, #0]
 257 014e FFF7FEFF 		bl	sai_frameclk_config
 258              	.LVL41:
 123:../Sources/DSP/AudioIF.c ****         0,                  //Port 0
 124:../Sources/DSP/AudioIF.c ****         1,                  //Tx
 125:../Sources/DSP/AudioIF.c ****         1,                  //Frame Sync One bit Early. //  This makes it I2S compatible
 126:../Sources/DSP/AudioIF.c ****         0,                  //high active frame sync polarity
 127:../Sources/DSP/AudioIF.c ****         1                   //Master mode generates frame sync
 128:../Sources/DSP/AudioIF.c ****     );
 129:../Sources/DSP/AudioIF.c ****    
 130:../Sources/DSP/AudioIF.c ****     sai_frameclk_config
 131:../Sources/DSP/AudioIF.c ****     (
 259              		.loc 1 131 0
 260 0152 2046     		mov	r0, r4
 261 0154 2146     		mov	r1, r4
 262 0156 2A46     		mov	r2, r5
 263 0158 2346     		mov	r3, r4
 264 015a 0095     		str	r5, [sp, #0]
 265 015c FFF7FEFF 		bl	sai_frameclk_config
 266              	.LVL42:
 132:../Sources/DSP/AudioIF.c ****         0,                  //Port 0
 133:../Sources/DSP/AudioIF.c ****         0,                  //Rx
 134:../Sources/DSP/AudioIF.c ****         1,                  //Frame Sync One bit Early.   This makes it I2S compatible
 135:../Sources/DSP/AudioIF.c ****         0,                  //high active frame sync polarity
 136:../Sources/DSP/AudioIF.c ****         1                   //Master mode generates frame sync
 137:../Sources/DSP/AudioIF.c ****     );
 138:../Sources/DSP/AudioIF.c ****   
 139:../Sources/DSP/AudioIF.c ****     sai_wordlength_config(0, //Port
 267              		.loc 1 139 0
 268 0160 4FF01708 		mov	r8, #23
 269              	.LVL43:
 270 0164 1F22     		movs	r2, #31
 271 0166 1346     		mov	r3, r2
 272 0168 2046     		mov	r0, r4
 273 016a 2946     		mov	r1, r5
 274 016c CDF80080 		str	r8, [sp, #0]
 275 0170 FFF7FEFF 		bl	sai_wordlength_config
 276              	.LVL44:
 140:../Sources/DSP/AudioIF.c **** 							1, //Tx
 141:../Sources/DSP/AudioIF.c **** 							31, //32 bits per word N
 142:../Sources/DSP/AudioIF.c **** 							31, //32 bits per word N
 143:../Sources/DSP/AudioIF.c **** 							23 // first bit to shift
 144:../Sources/DSP/AudioIF.c **** 							);
 145:../Sources/DSP/AudioIF.c ****   
 146:../Sources/DSP/AudioIF.c ****     sai_wordlength_config(0, //Port
 277              		.loc 1 146 0
 278 0174 1F22     		movs	r2, #31
 279 0176 1346     		mov	r3, r2
 280 0178 2046     		mov	r0, r4
 281 017a 2146     		mov	r1, r4
 282 017c CDF80080 		str	r8, [sp, #0]
 283 0180 FFF7FEFF 		bl	sai_wordlength_config
 284              	.LVL45:
 147:../Sources/DSP/AudioIF.c **** 							0, //Rx
 148:../Sources/DSP/AudioIF.c **** 							31, //32 bits per word N
 149:../Sources/DSP/AudioIF.c **** 							31, //32 bits per word N
 150:../Sources/DSP/AudioIF.c **** 							23 // first bit to shift
 151:../Sources/DSP/AudioIF.c **** 							);
 152:../Sources/DSP/AudioIF.c **** 						   
 153:../Sources/DSP/AudioIF.c ****     sai_channel_enable(0, //Port 0
 285              		.loc 1 153 0
 286 0184 2046     		mov	r0, r4
 287 0186 2946     		mov	r1, r5
 288 0188 2A46     		mov	r2, r5
 289 018a FFF7FEFF 		bl	sai_channel_enable
 290              	.LVL46:
 154:../Sources/DSP/AudioIF.c **** 						1, //Tx
 155:../Sources/DSP/AudioIF.c **** 						1 //Enable both Channel
 156:../Sources/DSP/AudioIF.c **** 						);
 157:../Sources/DSP/AudioIF.c **** 					   
 158:../Sources/DSP/AudioIF.c ****     sai_channel_enable(0, //Port 0
 291              		.loc 1 158 0
 292 018e 2A46     		mov	r2, r5
 293 0190 2046     		mov	r0, r4
 294 0192 2146     		mov	r1, r4
 295 0194 FFF7FEFF 		bl	sai_channel_enable
 296              	.LVL47:
 159:../Sources/DSP/AudioIF.c **** 						0, //Rx
 160:../Sources/DSP/AudioIF.c **** 						1 //Enable both Channel
 161:../Sources/DSP/AudioIF.c **** 						);
 162:../Sources/DSP/AudioIF.c ****    
 163:../Sources/DSP/AudioIF.c ****     sai_pinmux_init(0, 0);  //Port C
 297              		.loc 1 163 0
 298 0198 2046     		mov	r0, r4
 299 019a 2146     		mov	r1, r4
 300 019c FFF7FEFF 		bl	sai_pinmux_init
 301              	.LVL48:
 164:../Sources/DSP/AudioIF.c ****    
 165:../Sources/DSP/AudioIF.c ****     sai_stop_dbg_enable(0, 1, 0, 0);    //tx enabled in debug and stop
 302              		.loc 1 165 0
 303 01a0 2046     		mov	r0, r4
 304 01a2 2946     		mov	r1, r5
 305 01a4 2246     		mov	r2, r4
 306 01a6 2346     		mov	r3, r4
 307 01a8 FFF7FEFF 		bl	sai_stop_dbg_enable
 308              	.LVL49:
 166:../Sources/DSP/AudioIF.c ****    
 167:../Sources/DSP/AudioIF.c ****     sai_stop_dbg_enable(0, 0, 0, 0);    //RX enabled in debug and stop
 309              		.loc 1 167 0
 310 01ac 2346     		mov	r3, r4
 311 01ae 2046     		mov	r0, r4
 312 01b0 2146     		mov	r1, r4
 313 01b2 2246     		mov	r2, r4
 314 01b4 FFF7FEFF 		bl	sai_stop_dbg_enable
 315              	.LVL50:
 168:../Sources/DSP/AudioIF.c ****     
 169:../Sources/DSP/AudioIF.c ****     sai_watermark_config(0, //POrt 0
 316              		.loc 1 169 0
 317 01b8 2046     		mov	r0, r4
 318 01ba 2946     		mov	r1, r5
 319 01bc 2A46     		mov	r2, r5
 320 01be FFF7FEFF 		bl	sai_watermark_config
 321              	.LVL51:
 170:../Sources/DSP/AudioIF.c ****     1, //Recieve WaterMark
 171:../Sources/DSP/AudioIF.c ****     1 //anything greater than 1
 172:../Sources/DSP/AudioIF.c ****     );
 173:../Sources/DSP/AudioIF.c ****    
 174:../Sources/DSP/AudioIF.c ****     sai_watermark_config(0, //POrt 0
 322              		.loc 1 174 0
 323 01c2 2A46     		mov	r2, r5
 324 01c4 2046     		mov	r0, r4
 325 01c6 2146     		mov	r1, r4
 326 01c8 FFF7FEFF 		bl	sai_watermark_config
 327              	.LVL52:
 175:../Sources/DSP/AudioIF.c ****         0, //tx WaterMark
 176:../Sources/DSP/AudioIF.c ****         1 //anything less than or equal to
 177:../Sources/DSP/AudioIF.c ****         );
 178:../Sources/DSP/AudioIF.c ****  
 179:../Sources/DSP/AudioIF.c ****     
 180:../Sources/DSP/AudioIF.c ****     sai_enable(0, //port
 328              		.loc 1 180 0
 329 01cc 2046     		mov	r0, r4
 330 01ce 2146     		mov	r1, r4
 331 01d0 FFF7FEFF 		bl	sai_enable
 332              	.LVL53:
 181:../Sources/DSP/AudioIF.c ****         0 //rx
 182:../Sources/DSP/AudioIF.c ****         );
 183:../Sources/DSP/AudioIF.c ****         
 184:../Sources/DSP/AudioIF.c ****      sai_enable(0, //port
 333              		.loc 1 184 0
 334 01d4 2046     		mov	r0, r4
 335 01d6 2946     		mov	r1, r5
 336 01d8 FFF7FEFF 		bl	sai_enable
 337              	.LVL54:
 185:../Sources/DSP/AudioIF.c ****      1 //tx
 186:../Sources/DSP/AudioIF.c ****      );
 187:../Sources/DSP/AudioIF.c ****   
 188:../Sources/DSP/AudioIF.c ****      
 189:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 338              		.loc 1 189 0
 339 01dc 4FF47042 		mov	r2, #61440
 190:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 191:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 192:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 193:../Sources/DSP/AudioIF.c ****     
 194:../Sources/DSP/AudioIF.c ****          
 195:../Sources/DSP/AudioIF.c ****    
 196:../Sources/DSP/AudioIF.c ****    
 197:../Sources/DSP/AudioIF.c ****       PORTD_PCR3 = (PORT_PCR_MUX(1) | PORT_PCR_DSE_MASK);
 340              		.loc 1 197 0
 341 01e0 4FF44041 		mov	r1, #49152
 189:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 342              		.loc 1 189 0
 343 01e4 C4F20202 		movt	r2, 16386
 344              		.loc 1 197 0
 345 01e8 C4F20401 		movt	r1, 16388
 198:../Sources/DSP/AudioIF.c ****       
 199:../Sources/DSP/AudioIF.c ****       GPIOD_PDDR |= 1<<3;
 346              		.loc 1 199 0
 347 01ec 4FF2C003 		movw	r3, #61632
 348 01f0 C4F20F03 		movt	r3, 16399
 197:../Sources/DSP/AudioIF.c ****       PORTD_PCR3 = (PORT_PCR_MUX(1) | PORT_PCR_DSE_MASK);
 349              		.loc 1 197 0
 350 01f4 4FF4A070 		mov	r0, #320
 189:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 351              		.loc 1 189 0
 352 01f8 1462     		str	r4, [r2, #32]
 190:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 353              		.loc 1 190 0
 354 01fa 1462     		str	r4, [r2, #32]
 191:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 355              		.loc 1 191 0
 356 01fc 1462     		str	r4, [r2, #32]
 192:../Sources/DSP/AudioIF.c ****     I2S0_TDR0 = 0;
 357              		.loc 1 192 0
 358 01fe 1462     		str	r4, [r2, #32]
 197:../Sources/DSP/AudioIF.c ****       PORTD_PCR3 = (PORT_PCR_MUX(1) | PORT_PCR_DSE_MASK);
 359              		.loc 1 197 0
 360 0200 C860     		str	r0, [r1, #12]
 361              		.loc 1 199 0
 362 0202 5A69     		ldr	r2, [r3, #20]
 363 0204 42F00802 		orr	r2, r2, #8
 364 0208 5A61     		str	r2, [r3, #20]
 200:../Sources/DSP/AudioIF.c ****       
 201:../Sources/DSP/AudioIF.c ****       PORTD_PCR1 = (PORT_PCR_MUX(1) | PORT_PCR_DSE_MASK);
 365              		.loc 1 201 0
 366 020a 4860     		str	r0, [r1, #4]
 202:../Sources/DSP/AudioIF.c ****           
 203:../Sources/DSP/AudioIF.c ****           GPIOD_PDDR |= 1<<1;
 367              		.loc 1 203 0
 368 020c 5969     		ldr	r1, [r3, #20]
 369 020e 41F00200 		orr	r0, r1, #2
 370 0212 5861     		str	r0, [r3, #20]
 204:../Sources/DSP/AudioIF.c ****           
 205:../Sources/DSP/AudioIF.c ****           GPIOD_PSOR = 0;
 206:../Sources/DSP/AudioIF.c ****       
 207:../Sources/DSP/AudioIF.c ****     
 208:../Sources/DSP/AudioIF.c ****     
 209:../Sources/DSP/AudioIF.c ****     sai_interrupt_enable(0, //Port
 371              		.loc 1 209 0
 372 0214 2146     		mov	r1, r4
 205:../Sources/DSP/AudioIF.c ****           GPIOD_PSOR = 0;
 373              		.loc 1 205 0
 374 0216 5C60     		str	r4, [r3, #4]
 375              		.loc 1 209 0
 376 0218 2046     		mov	r0, r4
 377 021a FFF7FEFF 		bl	sai_interrupt_enable
 378              	.LVL55:
 210:../Sources/DSP/AudioIF.c ****      0 // Rx)
 211:../Sources/DSP/AudioIF.c ****     );
 212:../Sources/DSP/AudioIF.c ****     
 213:../Sources/DSP/AudioIF.c ****     sai_interrupt_enable(0, //Port
 379              		.loc 1 213 0
 380 021e 2946     		mov	r1, r5
 381 0220 2046     		mov	r0, r4
 382 0222 FFF7FEFF 		bl	sai_interrupt_enable
 383              	.LVL56:
 214:../Sources/DSP/AudioIF.c ****         1 // tx)
 215:../Sources/DSP/AudioIF.c ****         );
 216:../Sources/DSP/AudioIF.c ****         
 217:../Sources/DSP/AudioIF.c ****     
 218:../Sources/DSP/AudioIF.c ****     enable_irq(INT_I2S0_Rx - 16);
 384              		.loc 1 218 0
 385 0226 0E20     		movs	r0, #14
 386 0228 FFF7FEFF 		bl	enable_irq
 387              	.LVL57:
 219:../Sources/DSP/AudioIF.c ****     enable_irq(INT_I2S0_Tx - 16);
 388              		.loc 1 219 0
 389 022c 0D20     		movs	r0, #13
 390 022e FFF7FEFF 		bl	enable_irq
 391              	.LVL58:
 220:../Sources/DSP/AudioIF.c ****     
 221:../Sources/DSP/AudioIF.c ****     AudioSampleRate = SampleRate;
 392              		.loc 1 221 0
 393 0232 044B     		ldr	r3, .L5+4
 222:../Sources/DSP/AudioIF.c ****     return AudioMasterClock;
 223:../Sources/DSP/AudioIF.c **** }
 394              		.loc 1 223 0
 395 0234 3868     		ldr	r0, [r7, #0]
 221:../Sources/DSP/AudioIF.c ****     AudioSampleRate = SampleRate;
 396              		.loc 1 221 0
 397 0236 1E60     		str	r6, [r3, #0]
 398              		.loc 1 223 0
 399 0238 02B0     		add	sp, sp, #8
 400 023a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, sl, pc}
 401              	.L6:
 402 023e 00BF     		.align	2
 403              	.L5:
 404 0240 00000000 		.word	AudioMasterClock
 405 0244 00000000 		.word	AudioSampleRate
 406              		.cfi_endproc
 407              	.LFE0:
 409              		.comm	AudioSampleRate,4,4
 410              		.comm	AudioMasterClock,4,4
 411              		.text
 412              	.Letext0:
 413              		.file 2 "C:/Freescale/CW MCU v10.5/MCU/ARM_GCC_Support/ewl/EWL_C/include/cstdint"
 414              		.file 3 "C:/Users/ehughes/Dropbox/FRDM/FRDM-JAM/SRC/MonkeyJam/MonkeyJam/Project_Headers/MK20D5.h"
DEFINED SYMBOLS
                            *ABS*:00000000 AudioIF.c
C:\Users\ehughes\AppData\Local\Temp\ccyGL6Hf.s:24     .text.InitAudioIO:00000000 $t
C:\Users\ehughes\AppData\Local\Temp\ccyGL6Hf.s:29     .text.InitAudioIO:00000000 InitAudioIO
C:\Users\ehughes\AppData\Local\Temp\ccyGL6Hf.s:404    .text.InitAudioIO:00000240 $d
                            *COM*:00000004 AudioMasterClock
                            *COM*:00000004 AudioSampleRate
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
__aeabi_ui2f
__aeabi_fdiv
__aeabi_fmul
__aeabi_f2uiz
__aeabi_fadd
sai_clear_reg
sai_mclk_config
sai_bclk_config
sai_bclk_en
sai_mode_config
sai_word_flg_config
sai_frame_config
sai_frameclk_config
sai_wordlength_config
sai_channel_enable
sai_pinmux_init
sai_stop_dbg_enable
sai_watermark_config
sai_enable
sai_interrupt_enable
enable_irq
