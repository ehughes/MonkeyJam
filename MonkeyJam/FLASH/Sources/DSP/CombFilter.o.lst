   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"CombFilter.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.InitCombFilter,"ax",%progbits
  19              		.align	2
  20              		.global	InitCombFilter
  21              		.thumb
  22              		.thumb_func
  24              	InitCombFilter:
  25              	.LFB128:
  26              		.file 1 "../Sources/DSP/CombFilter.c"
   1:../Sources/DSP/CombFilter.c **** 
   2:../Sources/DSP/CombFilter.c **** #include "derivative.h" /* include peripheral declarations */
   3:../Sources/DSP/CombFilter.c **** #include "arm_math.h"
   4:../Sources/DSP/CombFilter.c **** #include "CombFilter.h"
   5:../Sources/DSP/CombFilter.c **** 
   6:../Sources/DSP/CombFilter.c **** void InitCombFilter(CombFilter *PC,q31_t *History,int16_t HistoryLength, uint8_t Type)
   7:../Sources/DSP/CombFilter.c **** {
  27              		.loc 1 7 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 87B0     		sub	sp, sp, #28
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 32
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 F860     		str	r0, [r7, #12]
  43 0008 B960     		str	r1, [r7, #8]
  44 000a FA80     		strh	r2, [r7, #6]	@ movhi
  45 000c 7B71     		strb	r3, [r7, #5]
   8:../Sources/DSP/CombFilter.c ****     uint32_t i;
   9:../Sources/DSP/CombFilter.c ****     PC->OutputHistory = History;
  46              		.loc 1 9 0
  47 000e FB68     		ldr	r3, [r7, #12]
  48 0010 BA68     		ldr	r2, [r7, #8]
  49 0012 1A60     		str	r2, [r3, #0]
  10:../Sources/DSP/CombFilter.c ****     PC->HistoryLength = HistoryLength;
  50              		.loc 1 10 0
  51 0014 FB68     		ldr	r3, [r7, #12]
  52 0016 FA88     		ldrh	r2, [r7, #6]	@ movhi
  53 0018 9A81     		strh	r2, [r3, #12]	@ movhi
  11:../Sources/DSP/CombFilter.c ****     PC->PreviousInput = 0;
  54              		.loc 1 11 0
  55 001a FB68     		ldr	r3, [r7, #12]
  56 001c 4FF00002 		mov	r2, #0
  57 0020 9A60     		str	r2, [r3, #8]
  12:../Sources/DSP/CombFilter.c ****     PC->CurrentIndex = 0;
  58              		.loc 1 12 0
  59 0022 FB68     		ldr	r3, [r7, #12]
  60 0024 4FF00002 		mov	r2, #0
  61 0028 DA81     		strh	r2, [r3, #14]	@ movhi
  13:../Sources/DSP/CombFilter.c **** 
  14:../Sources/DSP/CombFilter.c ****     for(i=0; i<HistoryLength; i++)
  62              		.loc 1 14 0
  63 002a 4FF00003 		mov	r3, #0
  64 002e 7B61     		str	r3, [r7, #20]
  65 0030 0CE0     		b	.L2
  66              	.L3:
  15:../Sources/DSP/CombFilter.c ****         {
  16:../Sources/DSP/CombFilter.c ****             PC->OutputHistory[i] = 0;
  67              		.loc 1 16 0
  68 0032 FB68     		ldr	r3, [r7, #12]
  69 0034 1A68     		ldr	r2, [r3, #0]
  70 0036 7B69     		ldr	r3, [r7, #20]
  71 0038 4FEA8303 		lsl	r3, r3, #2
  72 003c D318     		adds	r3, r2, r3
  73 003e 4FF00002 		mov	r2, #0
  74 0042 1A60     		str	r2, [r3, #0]
  14:../Sources/DSP/CombFilter.c ****     for(i=0; i<HistoryLength; i++)
  75              		.loc 1 14 0
  76 0044 7B69     		ldr	r3, [r7, #20]
  77 0046 03F10103 		add	r3, r3, #1
  78 004a 7B61     		str	r3, [r7, #20]
  79              	.L2:
  14:../Sources/DSP/CombFilter.c ****     for(i=0; i<HistoryLength; i++)
  80              		.loc 1 14 0 is_stmt 0
  81 004c B7F90620 		ldrsh	r2, [r7, #6]
  82 0050 7B69     		ldr	r3, [r7, #20]
  83 0052 9A42     		cmp	r2, r3
  84 0054 EDD8     		bhi	.L3
  17:../Sources/DSP/CombFilter.c ****         }
  18:../Sources/DSP/CombFilter.c **** 
  19:../Sources/DSP/CombFilter.c ****     PC->FeedbackTap = -1;
  85              		.loc 1 19 0 is_stmt 1
  86 0056 FB68     		ldr	r3, [r7, #12]
  87 0058 4FF6FF72 		movw	r2, #65535
  88 005c 1A82     		strh	r2, [r3, #16]	@ movhi
  20:../Sources/DSP/CombFilter.c ****     PC->FeedbackAmplitude = 0;
  89              		.loc 1 20 0
  90 005e FB68     		ldr	r3, [r7, #12]
  91 0060 4FF00002 		mov	r2, #0
  92 0064 5A60     		str	r2, [r3, #4]
  21:../Sources/DSP/CombFilter.c ****     PC->CombType = Type;
  93              		.loc 1 21 0
  94 0066 FB68     		ldr	r3, [r7, #12]
  95 0068 7A79     		ldrb	r2, [r7, #5]
  96 006a 9A74     		strb	r2, [r3, #18]
  22:../Sources/DSP/CombFilter.c **** }
  97              		.loc 1 22 0
  98 006c 07F11C07 		add	r7, r7, #28
  99 0070 BD46     		mov	sp, r7
 100 0072 80BC     		pop	{r7}
 101 0074 7047     		bx	lr
 102              		.cfi_endproc
 103              	.LFE128:
 105              		.global	Idx
 106 0076 00BF     		.section	.bss.Idx,"aw",%nobits
 107              		.align	1
 110              	Idx:
 111 0000 0000     		.space	2
 112              		.section	.text.CombTheDesert,"ax",%progbits
 113              		.align	2
 114              		.global	CombTheDesert
 115              		.thumb
 116              		.thumb_func
 118              	CombTheDesert:
 119              	.LFB129:
  23:../Sources/DSP/CombFilter.c **** 
  24:../Sources/DSP/CombFilter.c **** 
  25:../Sources/DSP/CombFilter.c **** int16_t Idx =0;
  26:../Sources/DSP/CombFilter.c **** 
  27:../Sources/DSP/CombFilter.c **** void CombTheDesert(q31_t In, q31_t *Out,CombFilter *PC)
  28:../Sources/DSP/CombFilter.c **** {
 120              		.loc 1 28 0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 32
 123              		@ frame_needed = 1, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 125 0000 F0B4     		push	{r4, r5, r6, r7}
 126              	.LCFI3:
 127              		.cfi_def_cfa_offset 16
 128              		.cfi_offset 4, -16
 129              		.cfi_offset 5, -12
 130              		.cfi_offset 6, -8
 131              		.cfi_offset 7, -4
 132 0002 88B0     		sub	sp, sp, #32
 133              	.LCFI4:
 134              		.cfi_def_cfa_offset 48
 135 0004 00AF     		add	r7, sp, #0
 136              	.LCFI5:
 137              		.cfi_def_cfa_register 7
 138 0006 F860     		str	r0, [r7, #12]
 139 0008 B960     		str	r1, [r7, #8]
 140 000a 7A60     		str	r2, [r7, #4]
  29:../Sources/DSP/CombFilter.c ****   
  30:../Sources/DSP/CombFilter.c ****     q63_t Acc = 0;
 141              		.loc 1 30 0
 142 000c 4FF00002 		mov	r2, #0
 143 0010 4FF00003 		mov	r3, #0
 144 0014 C7E90623 		strd	r2, [r7, #24]
  31:../Sources/DSP/CombFilter.c ****     q31_t i = In;
 145              		.loc 1 31 0
 146 0018 FB68     		ldr	r3, [r7, #12]
 147 001a 7B61     		str	r3, [r7, #20]
  32:../Sources/DSP/CombFilter.c ****     //get the feedback Value;
  33:../Sources/DSP/CombFilter.c ****  
  34:../Sources/DSP/CombFilter.c ****         	Idx = PC->CurrentIndex + PC->FeedbackTap;  //remember, feedback tap is negative
 148              		.loc 1 34 0
 149 001c 7B68     		ldr	r3, [r7, #4]
 150 001e DB89     		ldrh	r3, [r3, #14]
 151 0020 9AB2     		uxth	r2, r3
 152 0022 7B68     		ldr	r3, [r7, #4]
 153 0024 1B8A     		ldrh	r3, [r3, #16]
 154 0026 9BB2     		uxth	r3, r3
 155 0028 D318     		adds	r3, r2, r3
 156 002a 9BB2     		uxth	r3, r3
 157 002c 9AB2     		uxth	r2, r3
 158 002e 40F20003 		movw	r3, #:lower16:Idx
 159 0032 C0F20003 		movt	r3, #:upper16:Idx
 160 0036 1A80     		strh	r2, [r3, #0]	@ movhi
  35:../Sources/DSP/CombFilter.c **** 
  36:../Sources/DSP/CombFilter.c ****         	if(Idx<0)
 161              		.loc 1 36 0
 162 0038 40F20003 		movw	r3, #:lower16:Idx
 163 003c C0F20003 		movt	r3, #:upper16:Idx
 164 0040 1B88     		ldrh	r3, [r3, #0]
 165 0042 1BB2     		sxth	r3, r3
 166 0044 002B     		cmp	r3, #0
 167 0046 10DA     		bge	.L5
  37:../Sources/DSP/CombFilter.c ****              {
  38:../Sources/DSP/CombFilter.c ****                  Idx += PC->HistoryLength;
 168              		.loc 1 38 0
 169 0048 7B68     		ldr	r3, [r7, #4]
 170 004a 9B89     		ldrh	r3, [r3, #12]
 171 004c 9AB2     		uxth	r2, r3
 172 004e 40F20003 		movw	r3, #:lower16:Idx
 173 0052 C0F20003 		movt	r3, #:upper16:Idx
 174 0056 1B88     		ldrh	r3, [r3, #0]
 175 0058 9BB2     		uxth	r3, r3
 176 005a D318     		adds	r3, r2, r3
 177 005c 9BB2     		uxth	r3, r3
 178 005e 9AB2     		uxth	r2, r3
 179 0060 40F20003 		movw	r3, #:lower16:Idx
 180 0064 C0F20003 		movt	r3, #:upper16:Idx
 181 0068 1A80     		strh	r2, [r3, #0]	@ movhi
 182              	.L5:
  39:../Sources/DSP/CombFilter.c ****              }
  40:../Sources/DSP/CombFilter.c **** 
  41:../Sources/DSP/CombFilter.c **** 
  42:../Sources/DSP/CombFilter.c ****             Acc = In;
 183              		.loc 1 42 0
 184 006a F968     		ldr	r1, [r7, #12]
 185 006c 0A46     		mov	r2, r1
 186 006e 4FEAE273 		asr	r3, r2, #31
 187 0072 C7E90623 		strd	r2, [r7, #24]
  43:../Sources/DSP/CombFilter.c ****             Acc += ((q63_t)(PC->OutputHistory[Idx])  * PC->FeedbackAmplitude)>>31;
 188              		.loc 1 43 0
 189 0076 7B68     		ldr	r3, [r7, #4]
 190 0078 1A68     		ldr	r2, [r3, #0]
 191 007a 40F20003 		movw	r3, #:lower16:Idx
 192 007e C0F20003 		movt	r3, #:upper16:Idx
 193 0082 1B88     		ldrh	r3, [r3, #0]
 194 0084 1BB2     		sxth	r3, r3
 195 0086 4FEA8303 		lsl	r3, r3, #2
 196 008a D318     		adds	r3, r2, r3
 197 008c 1B68     		ldr	r3, [r3, #0]
 198 008e 1846     		mov	r0, r3
 199 0090 4FEAE071 		asr	r1, r0, #31
 200 0094 7B68     		ldr	r3, [r7, #4]
 201 0096 5E68     		ldr	r6, [r3, #4]
 202 0098 3246     		mov	r2, r6
 203 009a 4FEAE273 		asr	r3, r2, #31
 204 009e 02FB01FC 		mul	ip, r2, r1
 205 00a2 00FB03F6 		mul	r6, r0, r3
 206 00a6 6644     		add	r6, ip, r6
 207 00a8 A0FB0223 		umull	r2, r3, r0, r2
 208 00ac F118     		adds	r1, r6, r3
 209 00ae 0B46     		mov	r3, r1
 210 00b0 4FEA4301 		lsl	r1, r3, #1
 211 00b4 4FEAD274 		lsr	r4, r2, #31
 212 00b8 0C43     		orrs	r4, r4, r1
 213 00ba 4FEAE375 		asr	r5, r3, #31
 214 00be D7E90623 		ldrd	r2, [r7, #24]
 215 00c2 1219     		adds	r2, r2, r4
 216 00c4 43EB0503 		adc	r3, r3, r5
 217 00c8 C7E90623 		strd	r2, [r7, #24]
  44:../Sources/DSP/CombFilter.c ****          
  45:../Sources/DSP/CombFilter.c ****     	    	    
  46:../Sources/DSP/CombFilter.c ****     		*Out =  (q31_t)Acc;
 218              		.loc 1 46 0
 219 00cc BA69     		ldr	r2, [r7, #24]
 220 00ce BB68     		ldr	r3, [r7, #8]
 221 00d0 1A60     		str	r2, [r3, #0]
  47:../Sources/DSP/CombFilter.c ****                  
  48:../Sources/DSP/CombFilter.c ****              PC->CurrentIndex++;
 222              		.loc 1 48 0
 223 00d2 7B68     		ldr	r3, [r7, #4]
 224 00d4 DB89     		ldrh	r3, [r3, #14]
 225 00d6 03F10103 		add	r3, r3, #1
 226 00da 9AB2     		uxth	r2, r3
 227 00dc 7B68     		ldr	r3, [r7, #4]
 228 00de DA81     		strh	r2, [r3, #14]	@ movhi
  49:../Sources/DSP/CombFilter.c **** 
  50:../Sources/DSP/CombFilter.c ****              if(PC->CurrentIndex == (PC->HistoryLength))
 229              		.loc 1 50 0
 230 00e0 7B68     		ldr	r3, [r7, #4]
 231 00e2 DA89     		ldrh	r2, [r3, #14]
 232 00e4 7B68     		ldr	r3, [r7, #4]
 233 00e6 9B89     		ldrh	r3, [r3, #12]
 234 00e8 12B2     		sxth	r2, r2
 235 00ea 1BB2     		sxth	r3, r3
 236 00ec 9A42     		cmp	r2, r3
 237 00ee 03D1     		bne	.L6
  51:../Sources/DSP/CombFilter.c ****                   PC->CurrentIndex = 0;
 238              		.loc 1 51 0
 239 00f0 7B68     		ldr	r3, [r7, #4]
 240 00f2 4FF00002 		mov	r2, #0
 241 00f6 DA81     		strh	r2, [r3, #14]	@ movhi
 242              	.L6:
  52:../Sources/DSP/CombFilter.c ****               
  53:../Sources/DSP/CombFilter.c ****     
  54:../Sources/DSP/CombFilter.c ****     if(PC->CombType == COMB_TYPE_PEAKING)
 243              		.loc 1 54 0
 244 00f8 7B68     		ldr	r3, [r7, #4]
 245 00fa 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 246 00fc 012B     		cmp	r3, #1
 247 00fe 0AD1     		bne	.L7
  55:../Sources/DSP/CombFilter.c ****         {
  56:../Sources/DSP/CombFilter.c ****     	PC->OutputHistory[PC->CurrentIndex] = Acc;
 248              		.loc 1 56 0
 249 0100 7B68     		ldr	r3, [r7, #4]
 250 0102 1A68     		ldr	r2, [r3, #0]
 251 0104 7B68     		ldr	r3, [r7, #4]
 252 0106 DB89     		ldrh	r3, [r3, #14]
 253 0108 1BB2     		sxth	r3, r3
 254 010a 4FEA8303 		lsl	r3, r3, #2
 255 010e D318     		adds	r3, r2, r3
 256 0110 BA69     		ldr	r2, [r7, #24]
 257 0112 1A60     		str	r2, [r3, #0]
 258 0114 09E0     		b	.L4
 259              	.L7:
  57:../Sources/DSP/CombFilter.c ****         }
  58:../Sources/DSP/CombFilter.c ****     else
  59:../Sources/DSP/CombFilter.c ****         {
  60:../Sources/DSP/CombFilter.c ****     	   PC->OutputHistory[PC->CurrentIndex] = i;
 260              		.loc 1 60 0
 261 0116 7B68     		ldr	r3, [r7, #4]
 262 0118 1A68     		ldr	r2, [r3, #0]
 263 011a 7B68     		ldr	r3, [r7, #4]
 264 011c DB89     		ldrh	r3, [r3, #14]
 265 011e 1BB2     		sxth	r3, r3
 266 0120 4FEA8303 		lsl	r3, r3, #2
 267 0124 D318     		adds	r3, r2, r3
 268 0126 7A69     		ldr	r2, [r7, #20]
 269 0128 1A60     		str	r2, [r3, #0]
 270              	.L4:
  61:../Sources/DSP/CombFilter.c ****         }
  62:../Sources/DSP/CombFilter.c **** 
  63:../Sources/DSP/CombFilter.c ****       
  64:../Sources/DSP/CombFilter.c ****      
  65:../Sources/DSP/CombFilter.c **** 
  66:../Sources/DSP/CombFilter.c **** }
 271              		.loc 1 66 0
 272 012a 07F12007 		add	r7, r7, #32
 273 012e BD46     		mov	sp, r7
 274 0130 F0BC     		pop	{r4, r5, r6, r7}
 275 0132 7047     		bx	lr
 276              		.cfi_endproc
 277              	.LFE129:
 279              		.text
 280              	.Letext0:
 281              		.file 2 "C:/Freescale/CW MCU v10.5/MCU/ARM_GCC_Support/ewl/EWL_C/include/cstdint"
 282              		.file 3 "C:/Users/ehughes/Documents/GitHub/MonkeyListen/CMSIS_DSP_3.2/Sources/Include/arm_math.h"
 283              		.file 4 "../Sources/DSP/CombFilter.h"
DEFINED SYMBOLS
                            *ABS*:00000000 CombFilter.c
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:19     .text.InitCombFilter:00000000 $t
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:24     .text.InitCombFilter:00000000 InitCombFilter
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:110    .bss.Idx:00000000 Idx
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:107    .bss.Idx:00000000 $d
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:113    .text.CombTheDesert:00000000 $t
C:\Users\ehughes\AppData\Local\Temp\ccWXyhqd.s:118    .text.CombTheDesert:00000000 CombTheDesert
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
